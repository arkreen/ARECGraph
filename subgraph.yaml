specVersion: 0.0.7
description: Subgraph for AREC ecosystem 
repository: https://github.com/arkreen/ARECPortGraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ArkreenRECIssuance
    network: mumbai
    source:
      address: '0x95f56340889642A41b913C32d160d2863536E073'
      abi: ArkreenRECIssuance
      startBlock: 28712960
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/ArkreenRECIssuance.ts
      entities:
        - ARECOverview
        - ARTOverview
        - ARECNFT
        - AREC_ASSET
        - Token
      abis:
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ArkreenRegistry
          file: ./abis/ArkreenRegistry.json
        - name: ArkreenBadge
          file: ./abis/ArkreenBadge.json          
        - name: ArkreenRECIssuance
          file: ./abis/ArkreenRECIssuance.json
      eventHandlers:
        - event: RECRequested(address,uint256)
          handler: handleRECRequested
        - event: ESGBatchMinted(address,uint256)
          handler: handleESGBatchMinted
        - event: RECCertified(address,uint256)
          handler: handleRECCertified
        - event: RedeemFinished(address,uint256,uint256)
          handler: handleRedeemFinished 
        - event: RECLiquidized(address,uint256,uint256)
          handler: handleRECLiquidized
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
        - event: RECRejected(uint256)
          handler: handleRECRejected
        - event: RECCanceled(address,uint256)
          handler: handleRECCanceled
        - event: RECDataUpdated(address,uint256)
          handler: handleRECDataUpdated
  - kind: ethereum/contract
    name: ArkreenBadge
    network: mumbai
    source:
      address: '0x5C653b445BE2bdEB6f8f3CD099FC801865Cab835'
      abi: ArkreenBadge
      startBlock: 28777967 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/ArkreenBadge.ts
      entities:
        - ARECOverview
        - ARTOverview
        - ARECNFT
        - AREC_ASSET
        - Token
        - ARECBadge
      abis:
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ArkreenBadge
          file: ./abis/ArkreenBadge.json
      eventHandlers:
        - event: OffsetCertificateMinted(uint256)
          handler: handleOffsetCertificateMinted
        - event: OffsetCertificateUpdated(uint256)
          handler: handleOffsetCertificateUpdated   
        - event: OffsetAttached(uint256,uint256[])
          handler: handleOffsetAttached 
  - kind: ethereum/contract
    name: GreenBTC
    network: mumbai
    source:
      address: '0x770cB90378Cb59665BbF623a72b90f427701C825'
      abi: GreenBTC
      startBlock: 41577334 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/GreenBTC.ts
      entities:
        - GreenBTC
        - GreenBTCBlock
      abis:
        - name: GreenBTC
          file: ./abis/GreenBTC.json
      eventHandlers:
        - event: GreenBitCoin(uint256,uint256,address,uint8)
          handler: handleGreenBitCoin
        - event: OpenBox(address,uint256,uint256)
          handler: handleOpenBox
        - event: RevealBoxes(uint256[],bool[])
          handler: handleRevealBoxes
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer                           
templates:
  - kind: ethereum/contract
    name: ArkreenRECToken
    network: mumbai
    source:
      abi: ArkreenRECToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/ArkreenRECToken.ts
      entities:
        - ARECOverview
        - ARTOverview
        - ARECNFT
        - AREC_ASSET
        - Token
      abis:
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ArkreenBadge
          file: ./abis/ArkreenBadge.json          
        - name: ArkreenRECToken
          file: ./abis/ArkreenRECToken.json
      eventHandlers:
        - event: OffsetFinished(indexed address,uint256,uint256)
          handler: handleOffsetFinished
        - event: Solidify(indexed address,uint256,uint256,uint256)
          handler: handleSolidify 
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
